<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Chatbot in JavaScript</title>
    <link rel="stylesheet" href="public/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google Fonts Link For Icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://parsleyjs.org/dist/parsley.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.7.0/marked.min.js"
      integrity="sha256-0Ed5s/n37LIeAWApZmZUhY9icm932KvYkTVdJzUBiI4="
      crossorigin="anonymous"
    ></script>
    <script src="public/script.js" defer></script>
  </head>

  <body>
    <button class="chatbot-toggler">
      <span class="material-symbols-rounded">mode_comment</span>
      <span class="material-symbols-outlined">close</span>
    </button>
    <div class="chatbot">
      <header>
        <h2>Chatbot</h2>
        <span class="close-btn material-symbols-outlined">close</span>
      </header>
      <ul class="chatbox">
        <li class="chat incoming">
          <div class="chatbot-profile-container">
            <span class="material-symbols-outlined">
              <img
                src="https://chatbotiframe.s3.amazonaws.com/public/simplePaintingLogo.svg"
                alt="smart_toy"
                onerror="this.onerror=null; this.parentNode.textContent='smart_toy';"
              />
            </span>
          </div>
          <div>
            <p>Hi there ðŸ‘‹<br />How can I help you today?</p>
          </div>
        </li>
        <!-- Starter Questions -->
        <li class="chat bottom-chat" id="starter-questions">
          <div class="starter-questions-wrapper">
            <button
              class="starter-question"
              onclick="handleStarterQuestion(this)"
            >
              What's the status of my order?
            </button>
            <button
              class="starter-question"
              onclick="handleStarterQuestion(this)"
            >
              Where do you ship to?
            </button>
          </div>
        </li>
      </ul>
      <div class="chat-input">
        <textarea
          placeholder="Enter a message..."
          spellcheck="false"
          required
        ></textarea>
        <span id="send-btn" class="material-symbols-rounded">send</span>
      </div>
      <div class="hide" id="feedback">
        <h1>Give us feedback on Simple Painting assistant</h1>
        <div class="rate-chatbot">
          <button class="rate-button like" onclick="rateChatbot('like')">
            <i class="fas fa-thumbs-up"></i>
          </button>
          <button class="rate-button dislike" onclick="rateChatbot('dislike')">
            <i class="fas fa-thumbs-down"></i>
          </button>
        </div>
        <button class="close-button" onclick="closeFeedback()">Close</button>
      </div>
      <div class="hide" id="dislike-feedback">
        <div class="feedback-content">
          <h1>
            Describe what went wrong in your conversation with our assistant.
          </h1>
          <div class="dislike-feedback-chat-input">
            <textarea
              id="feedback-textarea"
              rows="4"
              placeholder="Type your feedback here..."
            ></textarea>
            <span
              id="feedback-btn"
              class="material-symbols-rounded"
              onclick="dislikeFeedbackHandler()"
              >send</span
            >
          </div>
          <button class="close-button" onclick="closeFeedback()">Close</button>
        </div>
      </div>
      <div class="hide" id="thank-you-div">
        <h1>Thank you for helping us improve :)</h1>
        <button class="close-button" onclick="closeFeedback()">Close</button>
      </div>
    </div>
  </body>
</html>
